import{d as e,o as t,c as n,w as s,v as r,a,F as i,r as o,n as l,t as u,l as c,b as p,i as d,e as m,u as g,f as h,g as w,h as v,j as f,k as x,m as k,p as y,q as b,s as L,x as M,y as A,z as V,A as C,B as P,C as q,D as E,E as G,G as O,H as I,I as j,J as R,K as z}from"./vendor.ea37297d.js";let H;String.prototype.next=function(e){return e(String(this))};const S={},B={class:"flex gap-1 py-1 items-center"},Y=["value"];var D=e({props:{modelValue:{type:String,required:!0},query:{type:null,required:!0}},emits:["update:modelValue"],setup(e,{emit:c}){const p=ref(!1),d=e=>{p.value||c("update:modelValue",e.target.value)},m=e=>{p.value=!1,d(e)};return(c,g)=>(t(),n("div",{class:l(["h-12 flex gap-1 justify-between focus-within:border-primary border-b-2 text-left transition",{"focus-within:border-secondary":!!e.query.engines.length}])},[s(a("span",B,[(t(!0),n(i,null,o(e.query.engines,((e,s)=>(t(),n("span",{key:s,class:"py-1 px-0.5 bg-secondary text-black border-secondary border-2 rounded text-sm"},u(e.name),1)))),128))],512),[[r,e.query.engines.length]]),a("input",{id:"query-box",value:e.modelValue,type:"text",class:"input flex-auto",autofocus:"",onCompositionstart:g[0]||(g[0]=e=>p.value=!0),onCompositionend:m,onInput:d},null,40,Y)],2))}});const _={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},K=[a("path",{d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5z",fill:"currentColor"},null,-1)];var U={name:"mdi-search",render:function(e,s){return t(),n("svg",_,K)}};let $;function F(e){const t=e.toLocaleLowerCase().normalize("NFKD");if(e.match(/\s/))return{raw:e,token:t,kind:"whitespace",head:e,arg:[]};switch(t[0]){case"@":return{raw:e,token:t,kind:"engine",head:t.slice(1),arg:[]};case"\\":if(t[1].match(/@/))return{raw:e,token:t,kind:"escaped",head:e.slice(1),arg:[]};default:return{raw:e,token:t,kind:"str",head:e,arg:[]}}}function T(e,t,n,s){return"engine"===t.kind?$.mapEngines.has(t.head)&&e.engines.push($.mapEngines.get(t.head)):e.query+=t.head,n===s.length-1&&(e.query=e.query.trim(),e.engines=c.exports.uniq(e.engines)),e}const W=p("ui",{state:()=>({isPopupGistOpen:!1,isPopupInfoOpen:!1})});var J,N;(N=J||(J={}))[N.Auto=-1]="Auto",N[N.Light=0]="Light",N[N.Dark=1]="Dark";const Q=function(){const e=g("(prefers-color-scheme: dark)"),t=h("darkmode",-1,window.localStorage,{window:window,listenToStorageChanges:!0}),n=t=>{const n=null==window?void 0:window.document.querySelector("html");null==n||n.classList.toggle("dark",1===t||-1===t&&e.value)};return w(t,n,{flush:"post"}),w(e,(()=>-1===t.value&&n(t.value))),v((()=>n(t.value))),t}(),X=function(e,t,n=0){if(d(n))return s=>{const r=null!=s?s:(n.value-e+1)%(t-e+1)+e;n.value=r<=t&&r>=e?r:e};{const s=m(n),r=n=>{const r=null!=n?n:(s.value-e+1)%(t-e+1)+e;s.value=r<=t&&r>=e?r:e};return[s,r]}}(-1,1,Q),Z=h("gitee-token",""),ee=h("gitee-gist-id",""),te=f.create({baseURL:"https://gitee.com/api/v5/gists/"});async function ne(){return Z?ee?te.get(`${ee.value}/`,{params:{access_token:Z.value}}).then((({data:e})=>{const t=null==e?void 0:e.files;return t?Promise.resolve(function(e){return{engines:Object.values(x.load(e["engines.yaml"].content))}}(t)):Promise.reject(Error("Malformed Gitee gist"))})):Promise.reject(Error("Illegal Gitee gist ID")):Promise.reject(Error("Illegal Gitee token"))}const se=p("core",{state:()=>({timestamp:k("timestamp",-1),engines:k("engines",[])}),getters:{mapEngines:e=>new Map(e.engines.map((e=>[e.shorthand,e])))},actions:{updateGist(){ne().then((({engines:e})=>{this.engines=e}))}}}),re={class:"mt-[6.18%] grid grid-cols-[1fr,auto] gap-2"},ae=["disabled"];const ie=[{name:"index",path:"/",component:e({setup(e){const s=ref(""),r=computed((()=>shallowReactive(function(e){return e.split(/(\s)/).map(F).reduce(T,{engines:[],query:""})}(s.value)))),i=se(),o=()=>{(r.value.engines.length?r.value.engines:i.engines.slice(0,1)).map(function(e){return t=>t.pattern.replace(/{}/,e.query)}(r.value)).forEach((e=>{window.open().location.href=e}))};return(e,i)=>{const l=D,u=U;return t(),n("div",null,[a("div",re,[y(l,{modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=e=>s.value=e),query:b(r),onKeypress:L(M(o,["exact","prevent"]),["enter"])},null,8,["modelValue","query","onKeypress"]),a("button",{class:"icon-btn",disabled:!s.value,onClick:o},[y(u)],8,ae)])])}}}),props:!0},{name:"all",path:"/:all(.*)*",component:()=>function(e,t){if(!t||0===t.length)return e();if(void 0===H){const e=document.createElement("link").relList;H=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/preguntame/${e}`)in S)return;S[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":H,t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e()))}((()=>import("./[...all].ca903df0.js")),["assets/[...all].ca903df0.js","assets/vendor.ea37297d.js"]),props:!0,meta:{layout:404}}],oe={id:"popup-gist-form",class:"grid gap-1 text-sm"},le=a("span",null,"令牌",-1),ue=a("span",null,"Gist ID",-1);var ce=e({setup(e){const r=A(W,["isPopupGistOpen"]),i=computed(r.isPopupGistOpen),o=ref(null);return V(o,(e=>{i.value=!1})),(e,r)=>b(i)?(t(),n("div",{key:0,id:"popup-gist",ref:o,class:"absolute left-1 bottom-1 md:left-0 p-4 bg-white dark:bg-gray-800 shadow rounded text-left max-width-sm md:max-width-md"},[a("div",oe,[le,s(a("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>d(Z)?Z.value=e:null),class:"min-w-0"},null,512),[[C,b(Z)]]),ue,s(a("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>d(ee)?ee.value=e:null),class:"min-w-0"},null,512),[[C,b(ee)]])])],512)):P("",!0)}});const pe={class:"text-sm"};var de=e({setup(e){const s=A(W,["isPopupInfoOpen"]),r=computed(s.isPopupInfoOpen),i=ref(null);V(i,(e=>{r.value=!1}));return(e,s)=>b(r)?(t(),n("div",{key:0,id:"popup-info",ref:i,class:"absolute right-1 bottom-1 md:right-0 p-4 bg-white dark:bg-gray-800 shadow rounded text-left max-width-sm md:max-width-md"},[a("div",pe,[a("span",null,"版本 "+u(b("0.0.1-4")),1)])],512)):P("",!0)}});const me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},ge=[a("path",{d:"M10 2h4a2 2 0 0 1 2 2v2h4a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8c0-1.11.89-2 2-2h4V4c0-1.11.89-2 2-2m4 4V4h-4v2h4z",fill:"currentColor"},null,-1)];var he={name:"mdi-briefcase",render:function(e,s){return t(),n("svg",me,ge)}};const we={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},ve=[a("path",{d:"M14.3 16l-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69L8.69 4H4v4.69L.69 12L4 15.31V20h4.69L12 23.31L15.31 20H20v-4.69L23.31 12L20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65z",fill:"currentColor"},null,-1)];var fe={name:"mdi-brightness-auto",render:function(e,s){return t(),n("svg",we,ve)}};const xe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},ke=[a("path",{d:"M12 8a4 4 0 0 0-4 4a4 4 0 0 0 4 4a4 4 0 0 0 4-4a4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6a6 6 0 0 1 6-6a6 6 0 0 1 6 6a6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69L8.69 4H4v4.69L.69 12L4 15.31V20h4.69L12 23.31L15.31 20H20v-4.69L23.31 12L20 8.69z",fill:"currentColor"},null,-1)];var ye={name:"mdi-brightness7",render:function(e,s){return t(),n("svg",xe,ke)}};const be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Le=[a("path",{d:"M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6a6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69L8.69 4H4v4.69L.69 12L4 15.31V20h4.69L12 23.31L15.31 20H20v-4.69L23.31 12L20 8.69z",fill:"currentColor"},null,-1)];var Me={name:"mdi-brightness4",render:function(e,s){return t(),n("svg",be,Le)}};const Ae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Ve=[a("path",{d:"M12 18a6 6 0 0 1-6-6c0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12a8 8 0 0 0 8 8v3l4-4l-4-4m0-11V1L8 5l4 4V6a6 6 0 0 1 6 6c0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12a8 8 0 0 0-8-8z",fill:"currentColor"},null,-1)];var Ce={name:"mdi-sync",render:function(e,s){return t(),n("svg",Ae,Ve)}};const Pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},qe=[a("path",{d:"M13 9h-2V7h2m0 10h-2v-6h2m-1-9A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2z",fill:"currentColor"},null,-1)];var Ee={name:"mdi-information",render:function(e,s){return t(),n("svg",Pe,qe)}};const Ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Oe=[a("path",{d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z",fill:"currentColor"},null,-1)];var Ie={name:"mdi-github",render:function(e,s){return t(),n("svg",Ge,Oe)}};const je={class:"my-0 lg:my-4 grid lg:text-lg"},Re={class:"flex gap-4 justify-self-start"},ze={class:"flex gap-4 justify-self-center"},He={class:"flex gap-4 justify-self-end"},Se=a("span",null,null,-1),Be={class:"icon-btn",rel:"noreferrer",href:"https://github.com/Yixuan-Wang/preguntame",target:"_blank",title:"GitHub"};var Ye=e({setup(e){const s=A(W,["isPopupGistOpen","isPopupInfoOpen"]),r=computed(s.isPopupGistOpen),i=computed(s.isPopupInfoOpen),o=se();return(e,s)=>{const u=he,c=fe,p=ye,d=Me,m=Ce,g=Ee,h=Ie;return t(),n("nav",je,[a("span",Re,[a("button",{id:"btn-popup-gist",class:l(["icon-btn",{active:b(r)}]),onPointerdown:s[0]||(s[0]=M((e=>r.value=!b(r)),["stop"]))},[y(u)],34),a("button",{class:"icon-btn",onClick:s[1]||(s[1]=e=>b(X)())},[b(Q)===b(J).Auto?(t(),q(c,{key:0})):b(Q)===b(J).Light?(t(),q(p,{key:1})):(t(),q(d,{key:2}))])]),a("span",ze,[a("button",{class:"icon-btn",onClick:s[2]||(s[2]=(...e)=>b(o).updateGist&&b(o).updateGist(...e))},[y(m)])]),a("span",He,[a("button",{id:"btn-popup-info",class:l(["icon-btn",{active:b(i)}]),onPointerdown:s[3]||(s[3]=M((e=>i.value=!b(i)),["stop"]))},[y(g),Se],34),a("a",Be,[y(h)])])])}}});const De={id:"root",class:"grid p-4 text-center text-gray-700 dark:text-gray-200"},_e={id:"main",class:"relative mt-3"};const Ke=O(e({setup:e=>(E({title:"Pregúntame"}),(e,s)=>{const r=G("router-view"),i=ce,o=de,l=Ye;return t(),n("div",De,[a("main",_e,[y(r),y(i),y(o)]),y(l)])})})),Ue=I({history:j("/preguntame/"),routes:ie}),$e=R(),Fe=z();Ke.use($e),Ke.use(Ue),Ke.use(Fe),$=se(),Ke.mount("#app");
